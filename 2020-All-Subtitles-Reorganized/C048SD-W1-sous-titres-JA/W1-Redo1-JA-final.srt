1
00:00:00,840 --> 00:00:00,880
「やり直し: パッケージと
クラス、メソッド」

2
00:00:01,640 --> 00:00:01,680
カンタン・デュカス

3
00:00:02,880 --> 00:00:03,760
-こんにちは、みなさん。

4
00:00:04,080 --> 00:00:05,600
このやりなおし第1回では

5
00:00:05,920 --> 00:00:08,240
パッケージの作り方や

6
00:00:08,560 --> 00:00:10,520
そのパッケージ内にクラスを作る方法や

7
00:00:10,840 --> 00:00:12,280
メソッドを定義する方法を見ていきます。

8
00:00:12,600 --> 00:00:15,080
そして全てが正しく動くかどうか
見ていきましょう。

9
00:00:15,760 --> 00:00:19,160
最初に、Pharoメニューを開いてください。

10
00:00:19,800 --> 00:00:21,760
そしてToolsへ行ってください。

11
00:00:22,080 --> 00:00:23,080
そして System Browser です。

12
00:00:23,400 --> 00:00:25,400
ここでイメージ内にロードされた

13
00:00:25,720 --> 00:00:27,320
全てのパッケージを見ることができます。

14
00:00:27,640 --> 00:00:29,680
沢山あります。

15
00:00:30,000 --> 00:00:34,280
新しいパッケージを作るには
ここのどこでも良いので右クリックして

16
00:00:34,840 --> 00:00:37,120
New packageを選んでください。

17
00:00:37,560 --> 00:00:42,280
「MyCounter」と入れて
「OK」を押します。

18
00:00:43,520 --> 00:00:45,640
ここにパッケージが作られましたが

19
00:00:46,040 --> 00:00:49,280
他のパッケージも全て見たいわけではないので

20
00:00:49,600 --> 00:00:53,160
フィルターに「MyCounter」と入れて
見えなくします。

21
00:00:54,000 --> 00:00:57,800
さて、これが我々が作ったパッケージですが
全くの空っぽです。

22
00:00:58,400 --> 00:01:00,920
クラスを作るテンプレートがあるので

23
00:01:01,240 --> 00:01:04,600
クラス「Object」のサブクラスで

24
00:01:05,200 --> 00:01:06,240
名前をここに入れて

25
00:01:06,560 --> 00:01:08,320
「Counter」と名付けましょう。

26
00:01:08,960 --> 00:01:12,680
インスタンス変数は

27
00:01:13,000 --> 00:01:15,000
「count」としましょう。

28
00:01:16,400 --> 00:01:19,360
さて、右上の隅に

29
00:01:19,680 --> 00:01:20,760
オレンジ色の三角形が見えるでしょうか。

30
00:01:21,080 --> 00:01:23,680
これはメソッドがまだコンパイルされていない
ということです。

31
00:01:24,000 --> 00:01:27,840
コンパイルするには
右クリックで「Accept」します。

32
00:01:28,200 --> 00:01:30,360
あるいはショートカットで
Cmd+S を押します。


33
00:01:30,680 --> 00:01:31,920
では Accept しましょう。

34
00:01:32,960 --> 00:01:35,040
さあできました。
我々のクラスが作られました。

35
00:01:35,360 --> 00:01:38,680
しかし、右側に赤い感嘆符(!)があります。

36
00:01:39,440 --> 00:01:41,160
これは、コメントがないという意味です。

37
00:01:41,480 --> 00:01:43,200
見ての通り、コメントはあるのですが

38
00:01:43,520 --> 00:01:47,440
そのコメントは単にコメントの書き方です。

39
00:01:48,160 --> 00:01:52,800
コメントを書くことが推奨されていますが
とりあえず今は良いことにしましょう。

40
00:01:53,360 --> 00:01:55,640
これからメソッドを書きたいので

41
00:01:55,960 --> 00:01:58,440
右側のこのタブにいきましょう。

42
00:01:59,080 --> 00:02:00,280
ダブルクリックして

43
00:02:00,600 --> 00:02:04,920
インスタンス変数へのアクセサーを書きます。

44
00:02:05,240 --> 00:02:07,200
「count」として

45
00:02:07,920 --> 00:02:09,160
これはゲッターですね。

46
00:02:09,480 --> 00:02:12,560
単に「count」インスタンス変数を書きましょう。

47
00:02:13,480 --> 00:02:17,800
オレンジ色の三角形が出ているので
Cmd+S を押します。

48
00:02:19,120 --> 00:02:20,600
メソッドができました。

49
00:02:21,280 --> 00:02:24,680
では、セッターを書きたいとします。

50
00:02:25,000 --> 00:02:28,600
「count」で、整数を渡します。

51
00:02:29,480 --> 00:02:33,800
そして「count」変数は

52
00:02:34,400 --> 00:02:35,920
この整数の値にします。

53
00:02:36,240 --> 00:02:39,320
こんな風に書いて

54
00:02:40,280 --> 00:02:42,480
再びコンパイルします。Cmd+S です。

55
00:02:43,240 --> 00:02:45,840
アクセサーが2つできました。

56
00:02:46,280 --> 00:02:47,640
それらのアクセサーは

57
00:02:47,960 --> 00:02:50,400
自動的に
「accessing」プロトコルに入ります。

58
00:02:50,720 --> 00:02:52,040
それで正しいですね。

59
00:02:52,360 --> 00:02:56,840
では、ちゃんと動くか見てみましょう。

60
00:02:57,160 --> 00:03:00,160
もう1つのツール、Playground に
行ってみましょう。

61
00:03:00,480 --> 00:03:03,400
Pharo メニューの Tools の

62
00:03:04,000 --> 00:03:05,320
Playground です。

63
00:03:06,160 --> 00:03:12,280
ここで、一時変数を作ることができます。
c としましょう。

64
00:03:13,800 --> 00:03:15,160
これをカウンターとします。

65
00:03:15,480 --> 00:03:18,800
つまり、「c := Counter new」です。

66
00:03:19,760 --> 00:03:24,160
さて、count インスタンス変数を
7 にしたいとします。

67
00:03:25,360 --> 00:03:30,080
正常な効果があったか見るためには

68
00:03:30,400 --> 00:03:32,800
ゲッターを呼んでみます。
「c count」

69
00:03:33,480 --> 00:03:34,600
全体の評価結果を見るためには

70
00:03:34,920 --> 00:03:37,480
末尾でダブルクリックして
全部を選択して

71
00:03:37,800 --> 00:03:41,880
Cmd+P を押すか
右クリックで「Print it」します。

72
00:03:42,640 --> 00:03:44,720
7 だとわかります。

73
00:03:45,040 --> 00:03:48,360
7 は、そのインスタンス変数に設定した値なので
これで正しいです。

74
00:03:48,760 --> 00:03:49,720
このビデオでは

75
00:03:50,040 --> 00:03:52,800
パッケージやクラス

76
00:03:53,120 --> 00:03:55,440
アクセサーメソッドを作り

77
00:03:56,000 --> 00:03:58,560
それを Playground 上で可視化する
方法を見てきました。

78
00:03:59,240 --> 00:04:00,760
しかし、ここでの振る舞いは

79
00:04:01,080 --> 00:04:03,040
テストに組み入れたいものです。

80
00:04:03,360 --> 00:04:05,640
次のやり直しでは、それを見ていきます。
